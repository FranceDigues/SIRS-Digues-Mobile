<div class="sirs-field">
    <label for="label" class="active">Libellé</label>
    <input id="label" type="text" ng-model="c.doc.libelle"/>
</div>
<div class="row">
    <div class="sirs-field col col-50" ng-init="c.doc.largeur = c.doc.largeur || 0">
        <label for="width" class="active">Largeur</label>
        <input id="width" type="number" ng-model="c.doc.largeur"/>
    </div>
    <div class="sirs-field col col-50" ng-init="c.doc.hauteur = c.doc.hauteur || 0">
        <label for="height" class="active">Hauteur</label>
        <input id="height" type="number" ng-model="c.doc.hauteur"/>
    </div>
</div>
<div class="row">
    <div class="sirs-field col col-50" ng-init="c.doc.zSeuil = c.doc.zSeuil || 0">
        <label for="zThreshold" class="active">Z du seuil</label>
        <input id="zThreshold" type="number" ng-model="c.doc.zSeuil"/>
    </div>
    <div class="sirs-field col col-50" ng-init="c.setupRef('typeSeuilId', c.refs.RefSeuil[0])">
        <label for="thresholdType" class="active">Type de seuil</label>
        <select id="thresholdType" class="browser-default" ng-model="c.doc.typeSeuilId">
            <option ng-if="c.showText('fullName')"
                    ng-repeat="r in c.refs.RefSeuil track by r.id"
                    ng-value="r.id">
                <span>{{r.libelle || ''}}</span>
            </option>
            <option ng-if="c.showText('abstract')"
                    ng-repeat="r in c.refs.RefSeuil track by r.id"
                    ng-value="r.id">
                <span>{{r.abrege || r.designation + ' : ' + r.libelle || ''}}</span>
            </option>
            <option ng-if="c.showText('both')"
                    ng-repeat="r in c.refs.RefSeuil track by r.id"
                    ng-value="r.id">
                <span>{{r.abrege || r.designation || ''}} : {{r.libelle || ''}}</span>
            </option>
        </select>
    </div>
</div>
<div class="row">
    <div class="sirs-field col col-50" ng-init="c.setupRef('typeGlissiereId', c.refs.RefTypeGlissiere[0])">
        <label for="slideType" class="active">Type de glissière</label>
        <select id="slideType" class="browser-default" ng-model="c.doc.typeGlissiereId">
            <option ng-if="c.showText('fullName')"
                    ng-repeat="r in c.refs.RefTypeGlissiere track by r.id"
                    ng-value="r.id">
                <span>{{r.libelle || ''}}</span>
            </option>
            <option ng-if="c.showText('abstract')"
                    ng-repeat="r in c.refs.RefTypeGlissiere track by r.id"
                    ng-value="r.id">
                <span>{{r.abrege || r.designation + ' : ' + r.libelle || ''}}</span>
            </option>
            <option ng-if="c.showText('both')"
                    ng-repeat="r in c.refs.RefTypeGlissiere track by r.id"
                    ng-value="r.id">
                <span>{{r.abrege || r.designation || ''}} : {{r.libelle || ''}}</span>
            </option>
        </select>
    </div>
</div>
<div class="row">
    <div class="sirs-field col col-100" ng-init="c.setupRef('ouvrageRevancheIds', c.refs.OuvrageRevanche[0], true)">
        <label class="active">Ouvrage de revanche associé</label>
        <div class="row sirs-field-multi" ng-repeat="v in c.doc.ouvrageRevancheIds track by $index">
            <div class="col col-75">
                <select class="browser-default" ng-model="c.doc.ouvrageRevancheIds[$index]">
                    <option ng-if="c.showText('fullName')"
                            ng-repeat="r in c.refs.OuvrageRevanche track by r.id"
                            ng-value="r.id">
                        <span>{{r.libelle || ''}}</span>
                    </option>
                    <option ng-if="c.showText('abstract')"
                            ng-repeat="r in c.refs.OuvrageRevanche track by r.id"
                            ng-value="r.id">
                        <span>{{r.abrege || r.designation + ' : ' + r.libelle || ''}}</span>
                    </option>
                    <option ng-if="c.showText('both')"
                            ng-repeat="r in c.refs.OuvrageRevanche track by r.id"
                            ng-value="r.id">
                        <span>{{r.abrege || r.designation || ''}} : {{r.libelle || ''}}</span>
                    </option>
                </select>
            </div>
            <div class="col col-25">
                <button class="btn pink waves-effect waves-teal" ng-disabled="c.doc.ouvrageRevancheIds.length === 1"
                        ng-click="c.doc.ouvrageRevancheIds.splice($index, 1)">
                    <i class="material-icons center">remove</i>
                </button>
                <button class="btn pink waves-effect waves-teal"
                        ng-click="c.doc.ouvrageRevancheIds.splice($index + 1, 0, c.refs.OuvrageRevanche[0].id)">
                    <i class="material-icons center">add</i>
                </button>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="sirs-field col col-50" ng-init="c.setupRef('positionId', c.refs.RefPosition[0])">
        <label for="damPosition" class="active">Position sur la digue</label>
        <select id="damPosition" class="browser-default" ng-model="c.doc.positionId">
            <option ng-if="c.showText('fullName')"
                    ng-repeat="r in c.refs.RefPosition track by r.id"
                    ng-value="r.id">
                <span>{{r.libelle || ''}}</span>
            </option>
            <option ng-if="c.showText('abstract')"
                    ng-repeat="r in c.refs.RefPosition track by r.id"
                    ng-value="r.id">
                <span>{{r.abrege || r.designation + ' : ' + r.libelle || ''}}</span>
            </option>
            <option ng-if="c.showText('both')"
                    ng-repeat="r in c.refs.RefPosition track by r.id"
                    ng-value="r.id">
                <span>{{r.abrege || r.designation || ''}} : {{r.libelle || ''}}</span>
            </option>
        </select>
    </div>
    <div class="sirs-field col col-50" ng-init="c.setupRef('coteId', c.refs.RefCote[0])">
        <label for="damSide" class="active">Côté de la digue</label>
        <select id="damSide" class="browser-default" ng-model="c.doc.coteId">
            <option ng-if="c.showText('fullName')"
                    ng-repeat="r in c.refs.RefCote track by r.id"
                    ng-value="r.id">
                <span>{{r.libelle || ''}}</span>
            </option>
            <option ng-if="c.showText('abstract')"
                    ng-repeat="r in c.refs.RefCote track by r.id"
                    ng-value="r.id">
                <span>{{r.abrege || r.designation + ' : ' + r.libelle || ''}}</span>
            </option>
            <option ng-if="c.showText('both')"
                    ng-repeat="r in c.refs.RefCote track by r.id"
                    ng-value="r.id">
                <span>{{r.abrege || r.designation || ''}} : {{r.libelle || ''}}</span>
            </option>
        </select>
    </div>
</div>
